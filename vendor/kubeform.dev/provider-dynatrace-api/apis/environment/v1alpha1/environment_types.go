/*
Copyright AppsCode Inc. and Contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

// Code generated by Kubeform. DO NOT EDIT.

package v1alpha1

import (
	base "kubeform.dev/apimachinery/api/v1alpha1"

	core "k8s.io/api/core/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	kmapi "kmodules.xyz/client-go/api/v1"
	"sigs.k8s.io/cli-utils/pkg/kstatus/status"
)

// +genclient
// +k8s:openapi-gen=true
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Phase",type=string,JSONPath=`.status.phase`

type Environment struct {
	metav1.TypeMeta   `json:",inline,omitempty"`
	metav1.ObjectMeta `json:"metadata,omitempty"`
	Spec              EnvironmentSpec   `json:"spec,omitempty"`
	Status            EnvironmentStatus `json:"status,omitempty"`
}

type EnvironmentSpecQuotasDdus struct {
	// Annual environment quota. Not set if unlimited
	// +optional
	Annual *int64 `json:"annual,omitempty" tf:"annual"`
	// Monthly environment quota. Not set if unlimited
	// +optional
	Monthly *int64 `json:"monthly,omitempty" tf:"monthly"`
}

type EnvironmentSpecQuotasDemUnits struct {
	// Annual environment quota. Not set if unlimited
	// +optional
	Annual *int64 `json:"annual,omitempty" tf:"annual"`
	// Monthly environment quota. Not set if unlimited
	// +optional
	Monthly *int64 `json:"monthly,omitempty" tf:"monthly"`
}

type EnvironmentSpecQuotasLogs struct {
	// Annual environment quota. Not set if unlimited
	// +optional
	Annual *int64 `json:"annual,omitempty" tf:"annual"`
	// Monthly environment quota. Not set if unlimited
	// +optional
	Monthly *int64 `json:"monthly,omitempty" tf:"monthly"`
}

type EnvironmentSpecQuotasSynthetic struct {
	// Annual environment quota. Not set if unlimited
	// +optional
	Annual *int64 `json:"annual,omitempty" tf:"annual"`
	// Monthly environment quota. Not set if unlimited
	// +optional
	Monthly *int64 `json:"monthly,omitempty" tf:"monthly"`
}

type EnvironmentSpecQuotasUserSessions struct {
	// Annual total User sessions environment quota. Not set if unlimited
	// +optional
	Annual *int64 `json:"annual,omitempty" tf:"annual"`
	// Monthly total User sessions environment quota. Not set if unlimited
	// +optional
	Monthly *int64 `json:"monthly,omitempty" tf:"monthly"`
}

type EnvironmentSpecQuotas struct {
	// Davis Data Units consumption and quota information on environment level. Not set (and not editable) if Davis data units is not enabled
	// +optional
	Ddus *EnvironmentSpecQuotasDdus `json:"ddus,omitempty" tf:"ddus"`
	// DEM units consumption and quota information on environment level
	// +optional
	DemUnits *EnvironmentSpecQuotasDemUnits `json:"demUnits,omitempty" tf:"dem_units"`
	// Host units consumption and quota information on environment level
	// +optional
	HostUnits *int64 `json:"hostUnits,omitempty" tf:"host_units"`
	// Log Monitoring consumption and quota information on environment level. Not set (and not editable) if Log monitoring is not enabled. Not set (and not editable) if Log monitoring is migrated to Davis data on license level
	// +optional
	Logs *EnvironmentSpecQuotasLogs `json:"logs,omitempty" tf:"logs"`
	// Synthetic monitors consumption and quota information on environment level. Not set (and not editable) if neither Synthetic nor DEM units is enabled
	// +optional
	Synthetic *EnvironmentSpecQuotasSynthetic `json:"synthetic,omitempty" tf:"synthetic"`
	// User sessions consumption and quota information on environment level
	// +optional
	UserSessions *EnvironmentSpecQuotasUserSessions `json:"userSessions,omitempty" tf:"user_sessions"`
}

type EnvironmentSpecStorageLimits struct {
	// Log monitoring storage usage and limit information on environment level in bytes. Not editable when Log monitoring is not allowed by license or not configured on cluster level. 0 for unlimited.
	// +optional
	Logs *int64 `json:"logs,omitempty" tf:"logs"`
	// Session replay storage usage and limit information on environment level in bytes. 0 for unlimited.
	// +optional
	SessionReplay *int64 `json:"sessionReplay,omitempty" tf:"session_replay"`
	// Session replay storage usage and limit information on environment level in bytes. 0 for unlimited.
	// +optional
	SymbolFiles *int64 `json:"symbolFiles,omitempty" tf:"symbol_files"`
	// Transaction storage usage and limit information on environment level in bytes. 0 for unlimited.
	// +optional
	Transactions *int64 `json:"transactions,omitempty" tf:"transactions"`
}

type EnvironmentSpecStorageRetention struct {
	// Log monitoring retention settings on environment level in days. Not editable when Log monitoring is not allowed by license or not configured on cluster level. Can be set to any value from 5 to 90 days
	Logs *int64 `json:"logs" tf:"logs"`
	// Real user monitoring retention settings on environment level in days. Can be set to any value from 1 to 35 days
	Rum *int64 `json:"rum" tf:"rum"`
	// Service code level retention settings on environment level in days. Service code level retention time can't be greater than service request level retention time and both can't exceed one year
	ServiceCodeLevel *int64 `json:"serviceCodeLevel" tf:"service_code_level"`
	// Service request level retention settings on environment level in days. Service code level retention time can't be greater than service request level retention time and both can't exceed one year
	ServiceRequestLevel *int64 `json:"serviceRequestLevel" tf:"service_request_level"`
	// Session replay retention settings on environment level in days. Can be set to any value from 1 to 35 days
	SessionReplay *int64 `json:"sessionReplay" tf:"session_replay"`
	// Synthetic monitoring retention settings on environment level in days. Can be set to any value from 1 to 35 days
	Synthetic *int64 `json:"synthetic" tf:"synthetic"`
}

type EnvironmentSpecStorage struct {
	// +optional
	Limits *EnvironmentSpecStorageLimits `json:"limits,omitempty" tf:"limits"`
	// +optional
	Retention *EnvironmentSpecStorageRetention `json:"retention,omitempty" tf:"retention"`
	// Maximum number of newly monitored entry point PurePaths captured per process/minute on environment level. Can be set to any value from 100 to 100000
	Transactions *int64 `json:"transactions" tf:"transactions"`
	// Maximum number of user actions generated per minute on environment level. Can be set to any value from 1 to 2147483646 or left unlimited by omitting this property
	// +optional
	UserActions *int64 `json:"userActions,omitempty" tf:"user_actions"`
}

type EnvironmentSpec struct {
	State *EnvironmentSpecResource `json:"state,omitempty" tf:"-"`

	Resource EnvironmentSpecResource `json:"resource" tf:"resource"`

	UpdatePolicy base.UpdatePolicy `json:"updatePolicy,omitempty" tf:"-"`

	TerminationPolicy base.TerminationPolicy `json:"terminationPolicy,omitempty" tf:"-"`

	ProviderRef core.LocalObjectReference `json:"providerRef" tf:"-"`

	BackendRef *core.LocalObjectReference `json:"backendRef,omitempty" tf:"-"`
}

type EnvironmentSpecResource struct {
	ID string `json:"id,omitempty" tf:"id,omitempty"`

	// The display name of the environment
	Name *string `json:"name" tf:"name"`
	// Environment level consumption and quotas information
	// +optional
	Quotas *EnvironmentSpecQuotas `json:"quotas,omitempty" tf:"quotas"`
	// Indicates whether the environment is enabled or disabled. Possible values are `ENABLED` and `DISABLED`. The default value is ENABLED
	State *string `json:"state" tf:"state"`
	// Environment level storage usage and limit information
	Storage *EnvironmentSpecStorage `json:"storage" tf:"storage"`
	// A set of tags that are assigned to this environment. Every tag can have a maximum length of 100 characters
	// +optional
	Tags []string `json:"tags,omitempty" tf:"tags"`
	// Specifies whether the environment is a trial environment or a non-trial environment. Creating a trial environment is only possible if your license allows that. The default value is false (non-trial)
	// +optional
	Trial *bool `json:"trial,omitempty" tf:"trial"`
}

type EnvironmentStatus struct {
	// Resource generation, which is updated on mutation by the API Server.
	// +optional
	ObservedGeneration int64 `json:"observedGeneration,omitempty"`
	// +optional
	Phase status.Status `json:"phase,omitempty"`
	// +optional
	Conditions []kmapi.Condition `json:"conditions,omitempty"`
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true

// EnvironmentList is a list of Environments
type EnvironmentList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	// Items is a list of Environment CRD objects
	Items []Environment `json:"items,omitempty"`
}
